# Incident Documentation Directory

This directory contains individual incident reports generated by the CS3 Incident Feedback Loop system.

## Purpose

Every deployment that requires user verification creates an incident. This directory maintains a permanent record of:

1. **Deployment Verification Results**: What the user reported
2. **Fix Attempts**: How Foreman responded to issues
3. **Lessons Learned**: What we learned from each incident
4. **Resolution Timeline**: How long it took to resolve
5. **Quality Metrics**: QIC and QIEL pass rates for fixes

## Directory Structure

```
docs/autonomy/incidents/
├── README.md (this file)
├── INCIDENT-[id].md (individual incident reports)
└── incident-[id].md (alternative format from lessons-learned)
```

## Incident Lifecycle

1. **Creation**: Incident created when deployment needs verification
2. **User Feedback**: User provides feedback (Not Visible, Not Functional, Incorrect Behavior, Resolved)
3. **Foreman Response**: Foreman analyzes and determines fix strategy
4. **Fix Attempts**: Builder implements fixes, tracked in incident
5. **Re-verification**: User verifies the fix
6. **Resolution**: User confirms "Resolved" status
7. **Lessons Learned**: System generates lessons from the incident

## Incident States

- **pending**: Awaiting initial user verification
- **investigating**: Foreman is analyzing the feedback
- **fixing**: Builder is implementing a fix
- **awaiting-verification**: Fix deployed, awaiting user re-verification
- **resolved**: User confirmed resolution

## Incident Files

Each incident generates a markdown file with:

```markdown
# Incident: [Component Name]

**Incident ID**: [ID]
**Created**: [Timestamp]
**Resolved**: [Timestamp or "Pending"]
**Component**: [Name]
**PR**: [URL if available]

## Description
[What was deployed]

## User Feedback
[What the user reported]

## Fix Attempts
[List of all fix attempts with QIC/QIEL results]

## Lessons Learned
[Generated lessons]

## ACR Requirement
[If architectural change was needed]
```

## Integration Points

- **Incident Engine**: `lib/foreman/incidents/incident-engine.ts`
- **Incident UI**: `app/foreman/incidents/page.tsx`
- **API Routes**: `app/api/foreman/incidents/`
- **Storage**: `lib/foreman/incidents/storage.ts`
- **Lessons Learned**: `memory/lessons-learned/`

## Viewing Incidents

Active incidents can be viewed at: `/foreman/incidents`

Historical incidents are stored in:
- This directory (`docs/autonomy/incidents/`)
- Lessons learned directory (`memory/lessons-learned/`)
- Governance memory (`memory/governance/`)

## Constitutional Requirement

Per CS3, incidents **cannot auto-close**. Only explicit user confirmation via the "Resolved" button can close an incident. This ensures:

1. No silent failures
2. User always verifies fixes
3. Complete audit trail
4. Accountability for quality

## Metrics

Incident metrics track:
- Time to first response
- Number of fix attempts
- QIC/QIEL pass rates
- Common failure patterns
- Resolution time distribution

---

**Last Updated**: 2025-12-11
**Maintained By**: CS3 Incident Feedback Loop System
**Authority**: Constitutional - Part of Quality Assurance Governance
