# Workflow Templates for Application Repositories

This directory contains workflow templates that APPLICATION repositories should copy to enforce the Builder-First PR Merge Model.

## Important Note

**These templates are NOT used in the governance repository itself.**

The governance repository contains only documentation, schemas, and policies—no application code that requires Builder QA. Therefore, the governance repository uses only the `governance-gate.yml` workflow to validate governance structure integrity.

## Available Templates

### builder-qa-enforcement-gate.yml.template

**Purpose**: Enforces Builder-First PR Merge Model where Builder QA artifacts are the canonical source of truth for PR merge readiness.

**For**: Application repositories with actual code builds (not governance/documentation repos)

**How to Use**:
1. Copy this template to your application repository's `.github/workflows/` directory
2. Rename from `.template` to `.yml`
3. Ensure your build process generates the required `.qa/builder/*` artifacts

**Required Artifacts** (generated by Builder):
- `.qa/builder/BUILD_QA_REPORT.json` - Build and test execution results
- `.qa/builder/GOVERNANCE_COMPLIANCE_REPORT.json` - Governance compliance assessment
- `.qa/builder/SUMMARY.md` - Human-readable summary

**Schemas** (for artifact validation):
- `governance/schemas/BUILD_QA_REPORT.schema.json`
- `governance/schemas/GOVERNANCE_COMPLIANCE_REPORT.schema.json`
- `governance/schemas/BUILDER_QA_SUMMARY.structure.md`

**What This Gate Does**:
- ✅ Checks required `.qa/builder/*` artifacts exist
- ✅ Validates JSON syntax and structure
- ✅ Verifies `build_status = "PASS"`
- ✅ Verifies `merge_readiness.ready = true`
- ✅ Verifies `compliance_status = "COMPLIANT"`
- ✅ Blocks merge if any check fails

**What This Gate Does NOT Do**:
- ❌ Read PR comments or GitHub Issues
- ❌ Use `gh api` to infer build state
- ❌ Diagnose failures or debug issues
- ❌ Interpret logs or CI output
- ❌ Act as a debugging system

**Philosophy**: This gate enforces proof (artifacts), it does not create proof. Builder QA is the sole authority on merge readiness.

## Why Templates?

These are templates (not active workflows) because:

1. **Repository Type Matters**: Application repositories need Builder QA enforcement, but governance/documentation repositories do not
2. **Flexibility**: Each application repository may have specific needs or customizations
3. **Clear Intent**: Makes it explicit that these workflows are opt-in for application repos, not automatic

## Related Documentation

- `governance/canon/BUILDER_FIRST_PR_MERGE_MODEL.md` - Constitutional document defining the model
- `governance/GOVERNANCE_TRANSITION_LEGACY_GATES_DECOMMISSIONING.md` - Transition documentation
- `.github/workflows/README.md` - Active workflows in governance repository

## Questions?

If you're unsure whether your repository should use these templates:

**Use Builder QA Enforcement Gate if**:
- Your repository contains application code
- You have a build process (compile, test, lint)
- Builder agents generate code changes
- You need deterministic merge decisions based on build quality

**Do NOT use Builder QA Enforcement Gate if**:
- Your repository is governance/documentation only
- No code compilation or testing occurs
- Changes are purely structural (schemas, policies, templates)

---

**Last Updated**: 2025-12-22  
**Version**: 1.0.0
