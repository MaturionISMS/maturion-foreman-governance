# WARNING DISCOVERY BLOCKER PROTOCOL

## Status
**Type**: Canonical Governance Protocol  
**Authority**: Supreme - Applies to ALL agents in ALL repositories  
**Version**: 1.0.0  
**Date**: 2026-01-07  
**Owner**: Maturion Engineering Leadership (Johan)  
**Effective Date**: Immediate

---

## Purpose

This protocol defines the **mandatory blocker process** when any agent discovers warnings or test debt from prior work (previous jobs, waves, or subwaves).

**Core Principle**: **Any agent that discovers warning or test debt due to prior work MUST immediately generate a report, and the original agent must be re-assigned and required to perform the correction as a blocker, before downstream work proceeds.**

This protocol ensures that the doctrine of **"Zero warnings and zero test debt – all must be immediately remedied before downstream work proceeds"** is explicit, aligned, and non-optional across the entire governance framework.

---

## Constitutional Mandate

This protocol derives authority from and implements:
- **QA_POLICY_MASTER.md Section 3.3** - Warning and Test-Debt Discovery from Prior Work
- **BUILD_PHILOSOPHY.md** - One-Time Build Law, Zero Test Debt
- **ESCALATION_POLICY.md** - Warning discovery as reactive escalation trigger
- **FM_PREAUTH_CHECKLIST_CANON.md Section 2.6** - Warning Status Validation
- **BUILDER_QA_HANDOVER_POLICY.md Section 8.4** - Warning Discovery During Execution
- **PR_GATE_FAILURE_HANDLING_PROTOCOL.md Section 5.10** - UNRESOLVED_WARNINGS classification
- **FOREMAN_AUTHORITY_AND_SUPERVISION_MODEL.md** - FM planning responsibility for warning validation

---

## 1. When This Protocol Activates

### 1.1 Trigger Conditions

This protocol activates when **ANY agent** discovers:
- Build warnings from prior work (previous job, wave, or subwave)
- Lint warnings from prior work
- Test warnings from prior work
- Test debt (skipped tests, incomplete tests, stubbed tests) from prior work
- Suppressed warnings without proper whitelist justification
- Accumulated warnings that should have been remediated earlier
- Warning whitelist entries that are expired or unjustified

### 1.2 Scope Definition: "Prior Work"

"Prior work" includes:
- Previous subwave within same wave
- Previous wave
- Previous job by same builder
- Previous job by different builder
- Any work that merged before current work began
- Any work in the dependency chain of current work

**Does NOT include**:
- Warnings generated by current agent's own work (must fix before handover)
- Warnings from uncommitted/unmerged work (still in development)
- Warnings from intentionally parked features (governed parking station)

---

## 2. Agent Discovery Obligations (MANDATORY)

When an agent discovers warnings or test debt from prior work:

### 2.1 IMMEDIATE HALT (Step 1)

**Agent MUST**:
- Stop ALL current work immediately
- Do NOT proceed with current task
- Do NOT work around the warnings
- Do NOT suppress or ignore the warnings
- Do NOT attempt to fix warnings if not the original responsible agent

**Rationale**: Proceeding with unstable foundation violates One-Time Build Law

---

### 2.2 GENERATE WARNING DISCOVERY REPORT (Step 2)

**Agent MUST create** a Warning Discovery Report containing:

**Required Fields**:
1. **Discovery Metadata**
   - Discovering agent ID
   - Discovery timestamp
   - Current task being executed
   - Current wave/subwave/job reference

2. **Warning Details**
   - Source file(s) with warnings
   - Line numbers
   - Warning messages (full text)
   - Warning severity (CRITICAL/HIGH/MEDIUM/LOW per QA_POLICY_MASTER.md Section 3.3.5)
   - Warning type (build/lint/test/debt)

3. **Origin Assessment**
   - Suspected origin job/wave/subwave
   - Suspected responsible agent (if identifiable via git history)
   - Git commit reference (if identifiable)
   - Merge timestamp (if applicable)

4. **Impact Assessment**
   - Can current work proceed safely? (YES/NO/UNKNOWN)
   - Does warning affect current work's correctness?
   - Does warning affect current work's architecture?
   - Is current work blocked? (YES/NO)

5. **Evidence Artifacts**
   - CI log references showing warnings
   - Local build log excerpts
   - Screenshots (if applicable)
   - Git diff showing warning context

**Schema**: `governance/schemas/WARNING_DISCOVERY_REPORT.schema.md`  
**Template**: `governance/templates/WARNING_DISCOVERY_REPORT.template.md`

---

### 2.3 ESCALATE TO FOREMAN/GOVERNANCE (Step 3)

**Agent MUST submit** Warning Discovery Report via governance escalation protocol:

**Escalation Channel**: Per ESCALATION_POLICY.md (reactive escalation trigger: "warning or test-debt discovery from prior work")

**Escalation Content**:
- Complete Warning Discovery Report
- Explicit statement: "Current work BLOCKED pending warning remediation"
- Request: "Require original agent remediation as BLOCKER before resuming work"
- Evidence bundle attached

**Escalation Recipient**:
- Primary: Foreman (FM)
- Secondary: Governance Administrator (if FM unavailable or if FM is suspected origin)

**Escalation Timeline**: IMMEDIATE (same execution session if possible)

---

### 2.4 BLOCK CURRENT WORK (Step 4)

**Agent MUST declare**:
- Current work status = BLOCKED
- Handover decision = NOT_READY_FOR_MERGE
- Handover pre-condition = "Unresolved warnings from prior work"
- Resumption condition = "Original agent remediates AND discovering agent verifies"

**Agent MUST NOT**:
- ❌ Hand over current work with unresolved prior warnings
- ❌ Declare READY_FOR_MERGE
- ❌ Attempt partial completion
- ❌ Work around warnings
- ❌ Suppress warnings

**This is absolute. Discovery of prior-work warnings is an execution blocker.**

---

## 3. Foreman/Governance Response Protocol (MANDATORY)

When FM or Governance receives a Warning Discovery Report:

### 3.1 ACKNOWLEDGE IMMEDIATELY (Step 1)

**FM/Governance MUST**:
- Confirm receipt of Warning Discovery Report (within 1 execution session)
- Acknowledge discovering agent's work is BLOCKED
- Commit to resolution timeline (target: within same work day)
- Assign triage priority: BLOCKER (higher than normal work)

---

### 3.2 IDENTIFY RESPONSIBLE AGENT (Step 2)

**FM/Governance MUST determine**:

1. **Which job/wave/subwave introduced the warnings**
   - Review git commit history for warning-containing files
   - Review wave/subwave completion reports
   - Review builder assignment records
   - Check CI logs from historical merges

2. **Which agent executed that work**
   - Identify builder from job assignment records
   - Review builder handover reports
   - Check builder QA reports for warning status claims

3. **Was the warning known and ignored**
   - Review original builder's handover reports: Did builder claim "zero warnings"?
   - Review gate validation logs: Did gate check warnings?
   - Review warning whitelist: Was warning whitelisted? Is whitelist still valid?

**Outcomes**:
- **Original agent identified** → Proceed to Step 3 (re-assign)
- **Original agent cannot be identified** → Escalate to Governance Administrator for deeper investigation
- **Warning was whitelisted but expired** → Re-assign original agent to remediate OR update whitelist with new justification
- **Warning was introduced by human/platform (not agent)** → Governance Administrator handles remediation

---

### 3.3 RE-ASSIGN ORIGINAL AGENT (BLOCKER) (Step 3)

**FM MUST re-assign** original responsible agent with:

**Assignment Details**:
- Task: Remediate warnings identified in Warning Discovery Report
- Priority: **BLOCKER** (higher than current work queue)
- Scope: Fix ALL warnings from Warning Discovery Report
- Success Criteria: Zero warnings, verified by discovering agent
- Timeline: Immediate (before ANY other authorization)
- Evidence Required: WARNING_REMEDIATION_REPORT per schema

**Assignment Constraints**:
- Original agent MUST remediate (cannot delegate to another agent)
- Original agent work queue paused until remediation complete
- Original agent cannot hand over other work until remediation complete
- Original agent reputation/performance impacted if repeat violations

**Communication to Original Agent**:
```
You are re-assigned to remediate warnings from [job/wave/subwave reference] as BLOCKER priority.

**Warning Discovery Report**: [link to report]
**Discovering Agent**: [agent ID]  
**Warnings**: [summary]  
**Impact**: [impact assessment]  

**Your Responsibilities**:
1. Review Warning Discovery Report
2. Remediate ALL warnings listed
3. Provide WARNING_REMEDIATION_REPORT with evidence
4. Discovering agent will verify before you may resume normal work

**Timeline**: Immediate (blocks all downstream work)
**Priority**: BLOCKER (higher than current queue)
```

---

### 3.4 ORIGINAL AGENT REMEDIATES (Step 4)

**Original Agent MUST**:

1. **Review Warning Discovery Report**
   - Understand warnings discovered
   - Understand impact on discovering agent's work
   - Acknowledge responsibility

2. **Remediate ALL Warnings**
   - Fix root cause of warnings (not just suppress)
   - Update code to eliminate warnings
   - Update architecture if needed
   - Update tests if needed
   - Ensure zero-warning build

3. **Generate WARNING_REMEDIATION_REPORT**
   - Document remediation actions taken
   - Provide before/after CI logs
   - Reference git commits for fixes
   - Explain why warnings were not caught during original work
   - Propose process improvement to prevent recurrence

4. **Submit for Verification**
   - Commit fixes to repository
   - Run CI to confirm zero warnings
   - Submit WARNING_REMEDIATION_REPORT to FM/Governance
   - Request discovering agent verification

**Schema**: `governance/schemas/WARNING_REMEDIATION_REPORT.schema.md`  
**Template**: `governance/templates/WARNING_REMEDIATION_REPORT.template.md`

---

### 3.5 DISCOVERING AGENT VERIFIES (Step 5)

**Discovering Agent MUST**:

1. **Re-Validate After Remediation**
   - Pull latest code with original agent's fixes
   - Re-run build/lint/tests
   - Confirm zero warnings in areas reported
   - Confirm fixes do not introduce new issues

2. **Generate WARNING_VERIFICATION_REPORT**
   - Document re-validation results
   - Confirm warnings resolved: YES/NO
   - If NO: Provide evidence of remaining warnings
   - If YES: Authorize original agent to resume normal work

3. **Resume Work (If Verified)**
   - Only after WARNING_VERIFICATION_REPORT confirms zero warnings
   - Update current work status = ACTIVE (no longer BLOCKED)
   - Proceed with current task
   - Include verification reference in handover reports

**Schema**: `governance/schemas/WARNING_VERIFICATION_REPORT.schema.md`  
**Template**: `governance/templates/WARNING_VERIFICATION_REPORT.template.md`

---

### 3.6 FORWARD-SCAN FOR PATTERN (Step 6)

**FM/Governance MUST perform forward-scan** (analogous to BL-019):

1. **Identify Failure Pattern**
   - Extract warning pattern from Warning Discovery Report
   - Define pattern abstractly (e.g., "lint warnings in React components")
   - Determine if pattern likely affects other pending work

2. **Scan ALL In-Scope Pending Work**
   - ALL pending waves/subwaves (not just affected items)
   - ALL planned but not yet authorized work
   - ALL recent merges (within last wave)

3. **Validate Each Instance**
   - Apply warning pattern check to each pending item
   - Identify other occurrences of same warning pattern
   - Document all instances found

4. **Correct ALL Instances**
   - Do NOT proceed with only triggering instance corrected
   - Remediate ALL instances before ANY further authorization
   - Document forward-scan corrections

5. **Evidence and Auditability**
   - Document forward-scan execution
   - List all corrections made
   - Confirm pattern eliminated before resuming authorizations

**This is mandatory. Forward-scan prevents second-time failures (per BL-019).**

---

## 4. Warning Classification and Priority

### 4.1 Classification (Per QA_POLICY_MASTER.md Section 3.3.5)

**CRITICAL Warnings** (MUST remediate immediately, blocks all work):
- Security warnings (potential vulnerabilities)
- Data corruption warnings
- Memory leak warnings
- API contract violation warnings
- Deprecation warnings for imminent removal

**HIGH Warnings** (MUST remediate before wave closure):
- Performance degradation warnings
- Type safety warnings
- Accessibility warnings
- Best practice violations with known failure modes

**MEDIUM Warnings** (MAY whitelist with justification):
- Style warnings (if codified style guide permits)
- Optional chaining warnings (if architecture explicitly allows)
- Informational warnings with no runtime impact

**LOW Warnings** (MAY whitelist for single wave):
- Third-party library warnings (not under our control)
- Platform-specific warnings with documented workarounds

---

### 4.2 Priority Assignment

| Warning Severity | Remediation Priority | Timeline | Blocks Downstream |
|------------------|---------------------|----------|-------------------|
| CRITICAL | BLOCKER | Immediate | YES (all work) |
| HIGH | BLOCKER | Before wave closure | YES (wave completion) |
| MEDIUM | HIGH | Within wave OR whitelist | NO (if whitelisted) |
| LOW | MEDIUM | Within wave OR whitelist | NO (if whitelisted) |

**Classification determines timeline, NOT whether to remediate. All warnings MUST be remediated or explicitly whitelisted.**

---

## 5. Whitelisting vs. Remediation

### 5.1 Remediation (PREFERRED)

**Definition**: Fix root cause of warning and eliminate warning entirely

**Process**:
- Original agent updates code to eliminate warning
- Architecture updated if needed
- Tests updated if needed
- Zero-warning build achieved
- No whitelist entry required

**Outcome**: Problem permanently resolved

---

### 5.2 Whitelisting (GOVERNED EXCEPTION)

**When Allowed**:
- ONLY if immediate remediation not feasible
- ONLY with explicit justification
- ONLY with FM/Governance approval
- ONLY with resolution plan and timeline

**When NOT Allowed**:
- ❌ CRITICAL warnings (NEVER whitelist)
- ❌ Security warnings (NEVER whitelist)
- ❌ Warnings that indicate correctness issues (NEVER whitelist)
- ❌ Warnings as permanent solution (whitelist MUST be temporary)

---

### 5.3 Whitelist Entry Requirements

**Mandatory Fields**:
1. **Warning Details**
   - File, line, message
   - Warning severity
   - Warning type

2. **Justification**
   - Why not immediately remediated
   - Technical or business reason
   - Risk assessment

3. **Resolution Plan**
   - When will be fixed (wave number or date)
   - How will be fixed (approach)
   - Who will fix (agent assignment)

4. **Approval**
   - FM/Governance signature
   - Approval timestamp

5. **Expiration**
   - Wave number or date when whitelist expires
   - Must be reviewed quarterly
   - Cannot accumulate indefinitely

**Whitelist Location**: `/governance/qa/warning-whitelist.json` (canonical per repository)

**Whitelist Schema**: `governance/schemas/WARNING_WHITELIST.schema.json`

---

### 5.4 Whitelist Lifecycle

```
Warning Discovered → Remediation Attempted → Cannot Remediate Immediately
  ↓
Whitelist Justification Created → FM/Governance Review → Approved/Rejected
  ↓
If Approved: Whitelist Entry Added with Expiration
  ↓
Quarterly Review → Still Valid? → YES: Renew | NO: Remediate
  ↓
Expiration Reached → MUST Remediate (cannot renew indefinitely)
```

---

## 6. Prohibited Actions (ABSOLUTE)

The following actions are **ABSOLUTELY FORBIDDEN**:

### 6.1 By Discovering Agent

❌ **Proceeding with downstream work despite unresolved warnings**  
❌ **Suppressing warnings without escalation**  
❌ **Claiming "not my responsibility" and continuing**  
❌ **Working around warnings instead of escalating**  
❌ **Handing over work with unresolved prior warnings**  
❌ **Fixing warnings that are not the discovering agent's responsibility** (usurps original agent accountability)

---

### 6.2 By Original Agent

❌ **Ignoring re-assignment to remediate**  
❌ **Delegating remediation to another agent**  
❌ **Suppressing warnings instead of fixing root cause**  
❌ **Claiming warnings are "not critical" to avoid remediation**  
❌ **Proceeding with other work before remediation complete**  
❌ **Providing false WARNING_REMEDIATION_REPORT**

---

### 6.3 By FM/Governance

❌ **Allowing discovering agent to proceed without remediation**  
❌ **Not re-assigning original agent as BLOCKER**  
❌ **Authorizing downstream work before forward-scan complete**  
❌ **Approving whitelist for CRITICAL warnings**  
❌ **Permitting warning accumulation across waves**  
❌ **Not performing forward-scan after warning discovery**

**Violation of these prohibitions is a governance violation requiring escalation and FL/CI activation.**

---

## 7. Evidence Requirements

### 7.1 Warning Discovery Evidence

**Required Artifacts**:
- WARNING_DISCOVERY_REPORT (per schema)
- CI logs showing warnings
- Local build logs showing warnings
- Git commit references
- Screenshots (if applicable)

**Storage**: Committed to repository in `/governance/evidence/warnings/discovery/`

---

### 7.2 Warning Remediation Evidence

**Required Artifacts**:
- WARNING_REMEDIATION_REPORT (per schema)
- Before/after CI logs
- Git commit references for fixes
- Explanation of why warnings were missed
- Process improvement proposal

**Storage**: Committed to repository in `/governance/evidence/warnings/remediation/`

---

### 7.3 Warning Verification Evidence

**Required Artifacts**:
- WARNING_VERIFICATION_REPORT (per schema)
- Re-execution logs showing zero warnings
- Discovering agent sign-off
- Timestamp of verification

**Storage**: Committed to repository in `/governance/evidence/warnings/verification/`

---

### 7.4 Forward-Scan Evidence

**Required Artifacts**:
- Forward-scan execution log
- List of items scanned
- List of additional warnings found
- Corrections made
- Confirmation pattern eliminated

**Storage**: Committed to repository in `/governance/evidence/warnings/forward-scan/`

---

## 8. Integration with Existing Governance

### 8.1 QA_POLICY_MASTER.md

This protocol is the comprehensive implementation of QA_POLICY_MASTER.md Section 3.3 (Warning and Test-Debt Discovery from Prior Work).

All requirements in Section 3.3 are binding and enforced by this protocol.

---

### 8.2 ESCALATION_POLICY.md

This protocol defines the detailed response to the escalation trigger: "warning or test-debt discovery from prior work" (reactive escalation).

All escalations under this trigger follow this protocol.

---

### 8.3 FM_PREAUTH_CHECKLIST_CANON.md

This protocol enforces Section 2.6 (Warning Status Validation) by defining the remediation process when warnings are discovered during validation.

FM MUST NOT authorize work if Section 2.6 fails without following this protocol.

---

### 8.4 BUILDER_QA_HANDOVER_POLICY.md

This protocol defines Section 8.4 (Warning Discovery from Prior Work During Execution) in detail.

Builders MUST follow this protocol when discovering warnings during execution.

---

### 8.5 PR_GATE_FAILURE_HANDLING_PROTOCOL.md

This protocol defines the remediation process for Section 5.10 (UNRESOLVED_WARNINGS) gate failures.

All UNRESOLVED_WARNINGS failures follow this protocol for resolution.

---

### 8.6 FOREMAN_AUTHORITY_AND_SUPERVISION_MODEL.md

This protocol enforces FM's Planning responsibility: "Verify zero unresolved warnings from prior work before authorizing downstream work."

FM authority includes enforcement of this protocol.

---

## 9. Success Criteria

This protocol succeeds when:
- ✅ Zero unresolved warnings in all builds (or all whitelisted with justification)
- ✅ No warning accumulation across waves/subwaves
- ✅ All agents halt and escalate upon warning discovery
- ✅ Original agents remediate warnings as BLOCKER priority
- ✅ Forward-scan prevents pattern repetition
- ✅ Evidence trail complete for all warning discoveries/remediations
- ✅ Warning whitelist managed properly (temporary, justified, expiring)

**Measurement**: Warning discovery incidents tracked per wave; trend should be decreasing over time as prevention mechanisms improve.

---

## 10. Audit and Compliance

### 10.1 Audit Requirements

All Warning Discovery Reports, Remediation Reports, and Verification Reports retained as audit evidence.

Governance Administrator performs quarterly audit of:
- Warning discovery frequency (per wave, per agent)
- Remediation turnaround time
- Forward-scan execution compliance
- Whitelist validity and expiration

---

### 10.2 Compliance Verification

**Weekly**:
- Review any new WARNING_DISCOVERY_REPORTS
- Verify remediation in progress
- Check discovering agents not blocked indefinitely

**Per Wave Closure**:
- Verify zero unresolved warnings
- Review warning whitelist for expired entries
- Confirm forward-scan executed after any discoveries

**Quarterly**:
- Comprehensive warning audit across all repositories
- Whitelist renewal decisions
- Process improvement based on warning trends

---

## 11. Change Control

This protocol may only be changed by:
1. Governance Administrator proposes change
2. Change reviewed against higher canon (GOVERNANCE_PURPOSE_AND_SCOPE.md, BUILD_PHILOSOPHY.md, QA_POLICY_MASTER.md)
3. Johan approves change
4. Change implemented via governance PR
5. Change communicated to all agents

**No agent may unilaterally modify this protocol.**

---

## 12. Conclusion

This protocol ensures that warnings and test debt from prior work:
- Are discovered immediately
- Are escalated immediately
- Block downstream work until remediated
- Are remediated by original responsible agent as BLOCKER
- Are verified by discovering agent
- Trigger forward-scan to prevent pattern repetition
- Are managed through governance (whitelist if necessary)
- Are auditable and traceable

**This protocol is mandatory, non-negotiable, and applies to all agents in all repositories.**

---

**Document Authority**: Governance Administrator  
**Approval**: Johan (Maturion Engineering Leadership)  
**Effective Date**: 2026-01-07  
**Integration**: All referenced governance documents updated to reference this protocol
